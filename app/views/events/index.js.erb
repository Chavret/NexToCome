var hash = $("<%= j render 'events/list', events: @hash%>").hide();
$('.wrapper').html(hash);
hash.show();

var categories = $("<%= j render 'categories/list', categories: @categories %>").hide();
$('.category-bar').html(categories);
categories.show();

var categories_dd = $("<%= j render 'categories/dropdown', categories: @categories %>").hide();
$('.category-bar-dd').html(categories_dd);
categories_dd.show();

var sub_categories = $("<%= j render 'sub_categories/list', categories: @categories %>").hide();
$('.sub-category-bar').html(sub_categories);
sub_categories.show();

$('.save-filters-form-container').html("<%= j render 'shared/save_preferences_form', selected_categories: @selected_categories, selected_sub_categories: @selected_sub_categories %>");

$( document ).ajaxComplete(function() {
  $(".dropdown-border").hide();
  $(".arrow-category").addClass(".fa fa-angle-double-down").removeClass(".fa fa-angle-double-up");
  $("#show-category-<%= @last_cat_id %>").show();
  $("#arrow-category-<%= @last_cat_id %>").addClass(".fa fa-angle-double-up").removeClass(".fa fa-angle-double-down");
});
